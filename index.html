<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Critical Mineral Explorer</title>
    <meta name="description" content="Prototype analysis tool for critical mineral supply chains. Explore 63 critical minerals with AI-powered supply chain reports and interactive data visualization.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://critical-minerals-explorer.vercel.app">
    <meta property="og:title" content="Critical Mineral Explorer - Supply Chain Analysis">
    <meta property="og:description" content="Explore 63 critical minerals with interactive data, supply chain analysis, and biotechnology applications. Based on MSHA mining data and USGS critical minerals list.">
    <meta property="og:image" content="https://critical-minerals-explorer.vercel.app/social-preview.png">
    <meta property="og:image:width" content="1264">
    <meta property="og:image:height" content="696">
    <meta property="og:image:alt" content="Critical Mineral Explorer - Supply Chain Analysis Dashboard">
    <meta property="og:site_name" content="Critical Mineral Explorer">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://critical-minerals-explorer.vercel.app">
    <meta property="twitter:title" content="Critical Mineral Explorer - Supply Chain Analysis">
    <meta property="twitter:description" content="Explore 63 critical minerals with interactive data, supply chain analysis, and biotechnology applications.">
    <meta property="twitter:image" content="https://critical-minerals-explorer.vercel.app/social-preview.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’Ž</text></svg>">
    
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Decorative elements -->
        <div class="decoration-particles">
            <div class="particle particle-1"></div>
            <div class="particle particle-2"></div>
            <div class="particle particle-3"></div>
            <div class="particle particle-4"></div>
            <div class="particle particle-5"></div>
        </div>
        
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1><i class="fas fa-gem"></i> Critical Mineral Explorer</h1>
                <p>Prototype analysis tool for critical mineral supply chains</p>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="introduction">
                <i class="fas fa-info-circle"></i> Introduction
            </button>
            <button class="nav-tab" data-tab="analysis">
                <i class="fas fa-table"></i> Summary Table
            </button>
            <button class="nav-tab" data-tab="reports">
                <i class="fas fa-file-alt"></i> Detailed Reports
            </button>
            <button class="nav-tab" data-tab="dashboard">
                <i class="fas fa-chart-bar"></i> MSHA Data
            </button>
        </nav>

        <!-- Loading indicator -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>Loading critical mineral data...</p>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Introduction Tab -->
            <div id="introduction-tab" class="tab-content active">
                <div class="report-viewer">
                    <div id="introduction-content" class="report-content" style="display: block;">
                        <!-- Introduction content will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content">
                <!-- MSHA Data Explanation Panel -->
                <div class="report-viewer" style="margin-bottom: 2rem;">
                    <div class="report-content" style="padding: 1.5rem;">
                        <h2 style="margin-top: 0; margin-bottom: 1rem; color: #4ade80;">MSHA Mining Data Overview</h2>
                        <p style="margin-bottom: 1rem; color: rgba(255, 255, 255, 0.9);">
                            This dashboard displays mining data extracted from the Mine Safety and Health Administration (MSHA) database, covering 91,307+ US mining operations. The data includes active mines, employment figures, and production estimates for critical minerals based on SIC codes and keyword matching, and filtered for the 63 critical minerals of interest here.
                        </p>
                        <p style="margin-bottom: 0; color: rgba(255, 255, 255, 0.8);">
                            <strong>Technical details:</strong> 
                            <a href="https://github.com/dgoodwin208/Critical-Minerals-Explorer/tree/main/msha_scraper" target="_blank" style="color: #4ade80; text-decoration: underline;">
                                <i class="fab fa-github"></i> View code on GitHub
                            </a>
                        </p>
                    </div>
                </div>
                
                <div class="dashboard-controls">
                    <div class="search-filter">
                        <input type="text" id="search-input" placeholder="Search metals..." />
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="filter-controls">
                        <select id="production-filter">
                            <option value="">All Production Levels</option>
                            <option value="significant">Significant</option>
                            <option value="moderate">Moderate</option>
                            <option value="limited">Limited</option>
                            <option value="minimal">Minimal</option>
                            <option value="none">None</option>
                        </select>
                        <select id="confidence-filter">
                            <option value="">All Confidence Levels</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>

                <div class="summary-stats">
                    <div class="stat-card">
                        <h3 id="total-metals">0</h3>
                        <p>Total Metals</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="active-mines">0</h3>
                        <p>Active Mines</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="total-employment">0</h3>
                        <p>Total Employment</p>
                    </div>
                </div>

                <div class="metals-grid" id="metals-grid">
                    <!-- Metal cards will be dynamically generated here -->
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports-tab" class="tab-content">
                <div class="reports-container">
                    <div class="reports-sidebar">
                        <h3>Select Metal</h3>
                        <div class="metal-list" id="metal-list">
                            <!-- Metal list will be populated dynamically -->
                        </div>
                    </div>
                    <div class="report-viewer">
                        <div class="report-placeholder">
                            <i class="fas fa-file-alt"></i>
                            <h3>Select a metal to view its detailed report</h3>
                            <p>Choose from the list on the left to explore comprehensive supply chain analysis</p>
                        </div>
                        <div class="report-content" id="report-content" style="display: none;">
                            <!-- Report content will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analysis Tab -->
            <div id="analysis-tab" class="tab-content">
                <div class="report-viewer">
                    <div class="report-content">
                        <h1 style="border-bottom: none; margin-bottom: 0;"><i class="fas fa-table"></i> Critical Minerals Summary Table</h1>
                        
                        <!-- Explanation Panel -->
                        <div style="background: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; margin: 2rem 0; border: 1px solid rgba(255, 255, 255, 0.2);">
                            <p style="margin-bottom: 1rem; color: rgba(255, 255, 255, 0.9);">
                                This table contains comprehensive data for all 63 critical minerals from the USGS 2025 list, including current production, 2030 demand/supply projections, domestic supply percentages, primary bottlenecks, and estimated GDP impact of supply disruptions.
                            </p>
                            <p style="margin-bottom: 0; color: rgba(255, 193, 7, 0.9); font-style: italic;">
                                <strong>Note:</strong> Production and Supply numbers are all estimates. For official USGS numbers, consult the January 2025 Periodicals available at 
                                <a href="https://pubs.usgs.gov/periodicals/mcs2025/" target="_blank" style="color: #4ade80; text-decoration: underline;">
                                    https://pubs.usgs.gov/periodicals/mcs2025/
                                </a>
                            </p>
                        </div>
                        
                        <div class="table-container" style="overflow-x: auto; margin-top: 2rem; border-radius: 10px; background: rgba(0, 0, 0, 0.2); padding: 1rem;">
                            <table id="minerals-table" class="table" style="width: 100%; color: #ffffff;">
                                <thead>
                                    <tr>
                                        <th>Metal</th>
                                        <th>Current Est. Production (tons)</th>
                                        <th>Demand 2030 (tons)</th>
                                        <th>Est. Supply 2030 (tons)</th>
                                        <th>Domestic Supply %</th>
                                        <th>Primary Bottleneck</th>
                                        <th>GDP Impact ($M)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Table data will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modal for mine details -->
        <div id="mine-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title">Mine Details</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body" id="modal-body">
                    <!-- Mine details will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js"></script>
    <!-- jQuery and DataTables -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
